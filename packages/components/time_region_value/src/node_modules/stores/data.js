import {derived, writable} from 'svelte/store';
import {inclusiveRange} from '@svizzle/utils';

import {getYearExtent, makeIndicatorsLookup} from 'utils/data';

/* groups */

export const groupsStore = writable([]);
export const setGroupsStore = groups => {
	groupsStore.set(groups);
}

/* lookup */

export const lookupStore = derived(groupsStore, makeIndicatorsLookup);

/* year extent */

export const yearExtentStore = derived(groupsStore, getYearExtent);

/* year range */

export const yearRangeStore = derived(yearExtentStore, inclusiveRange);
